<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>8. 条件 &mdash; Karel机器人教材</title>
    
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="top" title="Karel机器人教材" href="index.html" />
    <link rel="next" title="9. 条件循环" href="p09.html" />
    <link rel="prev" title="7. 用代码行走和HTML单元" href="p07.html" /> 
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">Karel机器人教材</a></div>
        <div class="rel">
          <a href="p07.html" title="7. 用代码行走和HTML单元"
             accesskey="P">上一页</a> |
          <a href="p09.html" title="9. 条件循环"
             accesskey="N">下一页</a> |
          <a href="genindex.html" title="总目录"
             accesskey="I">索引</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="id1">
<h1>8. 条件<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h1>
<div class="section" id="id2">
<h2>8.1 目标<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>理解编程中条件判断的作用</li>
<li>学会利用Karel的感知器结合条件判断来帮助机器人检查它的环境并做出响应.</li>
</ul>
<p>条件判断出现在所有程序语言中.目的是当程序运行时做出判断决定,处理各种各样的未知情况.在Karel中,条件被用来检测它周围的环境,通过wall,gem,tray,empty,north和home命令.</p>
</div>
<div class="section" id="wall">
<h2>8.2 wall感知器<a class="headerlink" href="#wall" title="永久链接至标题">¶</a></h2>
<p>wall感知器帮助机器人判断在它前面是否有墙.
简单程序&#8221;Careful step&#8221;
可以说明wall感知器的使用方法:如果前面有墙转回身否则向前走.注意#号后面是注释,它并不是程序的一部分.</p>
<div class="highlight-python"><div class="highlight"><pre># Program &quot;Careful step&quot;.
if wall
  repeat 2
    left
else
  go
</pre></div>
</div>
<p>考虑Karel如下图所示站在宝石前</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/8_01.png"><img alt="_images/8_01.png" src="_images/8_01.png" style="width: 40%;" /></a>
<p class="caption">图1.Karel的初始位置</p>
</div>
<p>我们点击绿色按钮运行上面程序3次,下图显示了每一次运行后Karel的位置:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/8_02.png"><img alt="_images/8_02.png" src="_images/8_02.png" style="width: 100%;" /></a>
<p class="caption">图2.每次运行后Karel的位置</p>
</div>
</div>
<div class="section" id="not">
<h2>8.3 关键字not<a class="headerlink" href="#not" title="永久链接至标题">¶</a></h2>
<p>Karel在条件判断中使用not关键字.例如上述程序可以重新写为:</p>
<div class="highlight-python"><div class="highlight"><pre># Program &quot;Careful step&quot;.
if not wall
  go
else
  repeat 2
    left
</pre></div>
</div>
</div>
<div class="section" id="gem">
<h2>8.4 gem感知器<a class="headerlink" href="#gem" title="永久链接至标题">¶</a></h2>
<p>gem感知器使得Karel可以探测在它正下方的宝石.注意宝石必须与机器人在同一方块,因为它不能看见四周的宝石.重新考虑以下问题:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/8_01.png"><img alt="_images/8_01.png" src="_images/8_01.png" style="width: 40%;" /></a>
<p class="caption">图3.Karel的初始位置,与之前相同</p>
</div>
<p>让我们扩展程序&#8221;Careful step&#8221;,使得Karel能够捡起沿途的宝石.</p>
<div class="highlight-python"><div class="highlight"><pre># Program &quot;Careful step II&quot;.
if gem
  get
if wall
  repeat 2
    left
else
  go
</pre></div>
</div>
<p>每次运行&#8221;Careful step II&#8221;后Karel的位置如下图所示:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/8_03.png"><img alt="_images/8_03.png" src="_images/8_03.png" style="width: 100%;" /></a>
<p class="caption">图4.每次运行后Karel的位置</p>
</div>
</div>
<div class="section" id="tray">
<h2>8.5 tray感知器<a class="headerlink" href="#tray" title="永久链接至标题">¶</a></h2>
<p>tray感知器使得Karel可以探测在它正下方的空托盘.放有宝石的托盘不能被探测.
让我们考虑如下情形,家方块在Karel前方10步远处.宝石和托盘的位置是随机的,但Karel事先知道宝石肯定在托盘前面.它的任务是找到宝石并把它放在托盘上,然后进入家方块.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/8_04.png"><img alt="_images/8_04.png" src="_images/8_04.png" style="width: 100%;" /></a>
<p class="caption">图4.Karel的任务是找到宝石并把它放到托盘上</p>
</div>
<p>此程序如下:</p>
<div class="highlight-python"><div class="highlight"><pre>repeat 10
　go
　if gem
    get
  if tray
    put
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h2>8.6 修理人行道<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h2>
<p>empty感知器使得机器人可以检查它的包是不是空的,或者结合not关键词判断是否包里至少有一枚宝石.假设Karel有四个房子,人行道环绕它们,如下图所示. 冬季过后部分人行道坏了,有一些砖(宝石代表)丢了.Karel的袋子里有不知确切数量的砖.写一个程序帮它修理人行道.</p>
<p>你的程序不应抛出任何错误即便它用完了袋子里的所有砖(宝石).</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/8_05.png"><img alt="_images/8_05.png" src="_images/8_05.png" style="width: 60%;" /></a>
<p class="caption">图5.Karel正在修理人行道</p>
</div>
<p>首先我们可以根据 <a class="reference internal" href="p06.html"><em>第六节</em></a> 中编过的程序修改得到:</p>
<div class="highlight-python"><div class="highlight"><pre>repeat 4
　repeat 4
    repeat 4
      go
    left
  right
</pre></div>
</div>
<p>以上程序不会使Karel完成任何修理工作,仅仅是沿着人行道走并返回初始位置.要想修理人行道,我们需要在go命令前插入其他条件判断语句.</p>
<div class="highlight-python"><div class="highlight"><pre>repeat 4
  repeat 4
    repeat 4
      if not gem
        put
      go
    left
  right
</pre></div>
</div>
<p>难道这样的程序就完美了吗? NO! 如果Karel兜里的宝石比需要维修的宝石少,程序就会停止并发出错误消息.所以,我们需要在put之前检查empty感知器.最终程序如下:</p>
<div class="highlight-python"><div class="highlight"><pre>repeat 4
  repeat 4
    repeat 4
      if not gem
        if not empty
          put
      go
    left
  right
</pre></div>
</div>
<p>完工!　下图展示了经过维修的人行道.在运行程序前,我们向Karel的兜里放了15个宝石(通过设计模式).</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/8_06.png"><img alt="_images/8_06.png" src="_images/8_06.png" style="width: 60%;" /></a>
<p class="caption">图６.运行程序后,人行道被修复了</p>
</div>
</div>
<div class="section" id="robot">
<h2>8.7 使robot面朝任意方向<a class="headerlink" href="#robot" title="永久链接至标题">¶</a></h2>
<p>north感知器不仅可以用来检测机器人的朝向是否向北,还可以使它朝向任何方向.为此,我们先使它朝向北,因为这是我们唯一可以确认的方向.　让我们写一个程序使Karel朝向南,无论它起初面向何方!</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/8_07.png"><img alt="_images/8_07.png" src="_images/8_07.png" style="width: 20%;" /></a>
<p class="caption">图7.Karel面向任意方向</p>
</div>
<p>此程序基于Karel起初可能面向任一方向的事实,最多转三次就可以使它面向北:</p>
<div class="highlight-python"><div class="highlight"><pre># First turn North:
repeat 3
  if not north
    left
# Then turn South:
repeat 2
  left
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>內容目录</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="p01.html">1. 赢得编程领域的黑带</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02.html">2. 简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03.html">3. 启动Karel</a></li>
<li class="toctree-l1"><a class="reference internal" href="p04.html">4. 热身</a></li>
<li class="toctree-l1"><a class="reference internal" href="p05.html">5. 编程</a></li>
<li class="toctree-l1"><a class="reference internal" href="p06.html">6. 计数循环</a></li>
<li class="toctree-l1"><a class="reference internal" href="p07.html">7. 用代码行走及HTML单元</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">8. 条件</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id2">8.1 目标</a></li>
<li class="toctree-l2"><a class="reference internal" href="#wall">8.2 wall感知器</a></li>
<li class="toctree-l2"><a class="reference internal" href="#not">8.3 关键字not</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gem">8.4 gem感知器</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tray">8.5 tray感知器</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id3">8.6 修理人行道</a></li>
<li class="toctree-l2"><a class="reference internal" href="#robot">8.7 使robot面朝任意方向</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="p09.html">9. 条件循环</a></li>
<li class="toctree-l1"><a class="reference internal" href="p10.html">10. 自定义命令</a></li>
<li class="toctree-l1"><a class="reference internal" href="p11.html">11. 变量</a></li>
<li class="toctree-l1"><a class="reference internal" href="p12.html">12. 列表</a></li>
<li class="toctree-l1"><a class="reference internal" href="p13.html">13. 逻辑之旅</a></li>
<li class="toctree-l1"><a class="reference internal" href="p14.html">14. 随机性</a></li>
<li class="toctree-l1"><a class="reference internal" href="p15.html">15. 递归</a></li>
<li class="toctree-l1"><a class="reference internal" href="p16.html">16. 附录-不同模式的功能性概述</a></li>
<li class="toctree-l1"><a class="reference internal" href="p16.html#id4">17. 进一步学习</a></li>
</ul>

          <h3 style="margin-top: 1.5em;">搜索</h3>
          <form class="search" action="search.html" method="get">
            <input type="text" name="q" />
            <input type="submit" value="转向" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
          <p class="searchtip" style="font-size: 90%">
            输入相关的术语，模块，类或者函数名称进行搜索
          </p>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <a href="p07.html" title="7. 用代码行走和HTML单元"
             >上一页</a> |
          <a href="p09.html" title="9. 条件循环"
             >下一页</a> |
          <a href="genindex.html" title="总目录"
             >索引</a>
            <br/>
            <a href="_sources/p08.txt"
               rel="nofollow">显示源代码</a>
        </div>

        <div class="right">
          
    <div class="footer">
        &copy; 版权所有 2014, Computing-works.
      由 <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2 创建。
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>